import{d as P,u as W,j as A,o as S,c as v,K as Y,w as h,a as r,b as i,m as u,n as e,e as p,f as y,t as b,g as f,v as D,h as G,z as J,P as O,p as R,r as $,l as T,k as _}from"./index-4405b5ba.js";import{_ as U}from"./index.vue_vue_type_script_setup_true_lang-c5acbf2f.js";import{_ as X}from"./index.vue_vue_type_script_setup_true_lang-5a95ef0c.js";import{_ as Z}from"./memberData.vue_vue_type_script_setup_true_lang-b6bd204d.js";import{_ as ee}from"./index.vue_vue_type_script_setup_true_lang-849de14f.js";import{_ as te}from"./index.vue_vue_type_script_setup_true_lang-c636670e.js";import"./SearchBox.vue_vue_type_script_setup_true_lang-a6a08cb4.js";import"./index.vue_vue_type_script_setup_true_lang-e29cff9c.js";const ne=f("i",{class:"fas fa-undo-alt"},null,-1),ae=f("i",{class:"fas fa-check"},null,-1),se=f("i",{class:"fas fa-check"},null,-1),oe=P({__name:"SettingPopup",props:{pop:null,content:null,whichPop:null},emits:["back","save"],setup(s,{emit:t}){W();const{mobileWidth:m}=A();return S(()=>{}),(a,l)=>{const M=D("el-scrollbar");return s.pop.value?(i(),v(ee,{key:0,title:s.pop.title,content:s.pop.content,css:s.pop.css},Y({"btn-content":h(()=>[s.pop.step==1?(i(),p("div",{key:0,class:"btn",onClick:l[0]||(l[0]=c=>a.$emit("close"))},[ne,y(b(a.$t("button.no")),1)])):r("",!0),s.pop.step==1?(i(),p("div",{key:1,class:"btn btn-red",onClick:l[1]||(l[1]=c=>a.$emit("yes"))},[ae,y(b(a.$t("button.yes")),1)])):r("",!0),s.pop.step==2?(i(),p("div",{key:2,class:"btn btn-red",onClick:l[2]||(l[2]=c=>a.$emit("close"))},[se,y(b(a.$t("button.done")),1)])):r("",!0)]),_:2},[s.pop.step==1?{name:"content",fn:h(()=>[u(M,{class:"pop-mission-box",height:e(m)?"80px":"180px"},{default:h(()=>[u(te,{data:s.content},null,8,["data"])]),_:1},8,["height"])]),key:"0"}:void 0]),1032,["title","content","css"])):r("",!0)}}}),ie={class:"mission-page"},le={key:1,class:"page-bread"},ce={class:"page-bread-bc"},me={class:"page-bread-item"},re={key:2},_e=P({__name:"index",setup(s){const{t}=G(),m=J(),{getMemberBoolean:a,memberIDValue:l}=A(),{missionForm:M,mission:c,seeDetail:I,backTable:pe}=O(),{pop:o,closePop:V}=R(),N=$({gridTemplateColumns:"1fr 1fr 1fr 100px 1fr 1fr 1fr 1fr 100px"}),k=$({each:10,total:2}),C=T(0),w=T(""),x=_(()=>[{name:t("MissionManagment.Attendance.field.MissionType"),type:1},{name:t("MissionManagment.Attendance.field.MissionName"),type:1},{name:t("MissionManagment.Attendance.field.MissionLocation"),type:1},{name:t("MissionManagment.Attendance.field.Date"),type:1},{name:t("MissionManagment.Attendance.field.Point"),type:1},{name:t("MissionManagment.Attendance.field.Quota"),type:1},{name:t("MissionManagment.Attendance.field.MemberTier"),type:1},{name:t("MissionManagment.Attendance.field.Status"),type:1},{name:t("MissionManagment.Attendance.field.Attended"),type:2}]),g=_(()=>M.missionHistoryInfo.filter(n=>n.state=="已報名").map(n=>({value:n,icon:"fa-edit",css:"",data:{MissionType:n.missionType,MissionName:n.missionName,MissionLocation:n.location,Date:n.date,Point:n.point,Quota:n.quota,MemberTier:n.memberTier,Status:n.state,icon:"fa-edit"}}))),B=_(()=>({detail:c.detail,status:5})),z=()=>{m.setMemberInfo(m.nullMemberInfo)},H=()=>{m.setMemberInfo(m.nullMemberInfo)},K=d=>{m.setMemberInfo(d)},L=()=>{},Q=d=>{I(d,5),j(),o.css="pop-reg",o.title=t("MissionManagment.Attendance.popValue.attended.title"),o.content=t("MissionManagment.Attendance.popValue.attended.content")},j=()=>{C.value+=1,o.step=1,o.value=!0},q=()=>{o.css="",o.step=2,o.content=t("MissionManagment.Attendance.popValue.attended.success")},E=()=>{c.detail=null,V()};return S(()=>{z()}),(d,n)=>{const F=D("el-pagination");return i(),p("div",ie,[u(U,{value:e(l),closeTable:e(a),onSearch:H,onClick:K},null,8,["value","closeTable"]),e(a)?(i(),v(Z,{key:0})):r("",!0),e(a)?(i(),p("div",le,[f("div",ce,[f("div",me,b(e(c).name?e(c).name:" "),1)])])):r("",!0),e(g).length!=0&&e(a)&&!e(c).detail?(i(),p("section",re,[u(X,{total:k.total,tableData:e(g),tableTitle:e(x),PCgridTemplateColumns:N,onClick:Q},null,8,["total","tableData","tableTitle","PCgridTemplateColumns"]),u(F,{"page-size":k.each,layout:"prev, pager, next",total:e(g).length,onCurrentChange:L},null,8,["page-size","total"])])):r("",!0),(i(),v(oe,{key:C.value,pop:e(o),content:e(B),whichPop:w.value,onClose:E,onYes:q},null,8,["pop","content","whichPop"]))])}}});export{_e as default};
