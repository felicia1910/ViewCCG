import{d as C,u as $,s as Y,r as y,o as N,v as V,b as d,e as f,m as v,g as e,t as b,l as w,a as h,n as S,x as F,f as I,k as q,w as z,y as D,c as R,_ as B}from"./index-4405b5ba.js";const H={class:"err-mes"},O={class:"err-mes"},Z=C({__name:"Sign",emits:["forget"],setup(_,{emit:g}){$();const{callUser:i,okUserInfo:u}=Y(),s=y({findVale:"",password:"",findType:0}),t=y({findVale:"",password:""}),r=()=>(t.findVale=s.findVale?"":"Please type your account.",t.password=s.password?"":"Please type your password.",s.findVale&&s.password),a=()=>{r()&&i(s).then(o=>{const{isSuccess:l,message:c}=o;l?u():t.password=c})};return N(()=>{}),(o,l)=>{const c=V("el-input");return d(),f("div",null,[v(c,{modelValue:s.findVale,"onUpdate:modelValue":l[0]||(l[0]=p=>s.findVale=p),placeholder:"Your Account"},null,8,["modelValue"]),e("div",H,b(t.findVale),1),v(c,{modelValue:s.password,"onUpdate:modelValue":l[1]||(l[1]=p=>s.password=p),type:"password",placeholder:"Your Password","show-password":""},null,8,["modelValue"]),e("div",O,b(t.password),1),e("div",{class:"btn bc-yellow btn-square",onClick:a},"Login"),e("div",{class:"forger-btn",onClick:l[2]||(l[2]=p=>g("forget",2))}," Forgot password ")])}}});var U=(_=>(_[_.email=0]="email",_[_.phone=1]="phone",_))(U||{});const K={key:0},j=e("div",{class:"small-title"}," Enter your email and we'll send you a link to reset your password ",-1),G={class:"err-mes"},J={key:1},Q={class:"small-title"},W=e("div",{class:"small-text"}," Check your email and open the link we sent to continue. ",-1),X=C({__name:"Forget",emits:["isClickForget"],setup(_,{emit:g}){$();const i=w(1),{forgetPassword:u}=Y(),s=y({findVale:"",findType:U.email}),t=y({email:""}),r=()=>(t.email=s.findVale?"":"Please type your email.",s.findVale),a=()=>{r()&&u(s).then(l=>{const{isSuccess:c,message:p}=l;c?i.value=2:t.email=p})},o=()=>{g("isClickForget",1)};return N(()=>{}),(l,c)=>{const p=V("el-input"),x=V("el-button");return d(),f("div",null,[i.value==1?(d(),f("div",K,[j,v(p,{modelValue:s.findVale,"onUpdate:modelValue":c[0]||(c[0]=E=>s.findVale=E),placeholder:"Your Email address"},null,8,["modelValue"]),e("div",G,b(t.email),1),e("div",{class:"btn btn-square",onClick:a},"Send link to email")])):h("",!0),i.value==2?(d(),f("div",J,[e("div",Q,[v(x,{type:"success",icon:S(F),circle:""},null,8,["icon"]),I("    Email sent ")]),W,e("div",{class:"forger-btn text-left",onClick:o},"Bake to login page")])):h("",!0)])}}}),ee={class:"reset-page"},se={key:0},te=e("div",{class:"small-title"},"New password",-1),oe=e("div",{class:"small-text"}," Password must contain at least 7 letters and 1 number ",-1),ae=e("span",null,null,-1),le={class:"small-text text-red"},ne={key:1},re={class:"small-title"},ce=C({__name:"Reset",emits:["isClickForget"],setup(_,{emit:g}){const i=$(),u=w(1),{UserResetPassword:s}=Y(),t=y({currentPassword:"",newPassword:""}),r=w(""),a=w(!1),o=w(""),l=w(""),c=[{color:"#063329",percentage:0},{color:"#f56c6c",percentage:33},{color:"#5cb87a",percentage:66},{color:"#6f7ad3",percentage:100}],p=q(()=>{let m=t.newPassword,n=0;if(m.match(/[a-z]/)&&m.match(/[A-Z]/)&&(n+=1),m.match(/\d/)&&(n+=1),m.match(/[^a-zA-Z\d]/)&&(n+=1),m.length>0&&m.length<7)o.value="Make the password longer",a.value=!0;else return m.length>=7&&n==0?(o.value="Password must contain at least 7 letters and 1 number",0):n==1?(o.value="weak password",a.value=!1,33):n==2?(o.value="medium password",a.value=!1,66):n==3?(o.value="strong password",a.value=!1,100):(o.value="",a.value=!1,0)}),x=()=>{l.value=r.value!==t.newPassword?"Two password input dose not the same!":""},E=()=>(l.value=r.value?"":"Input Your New Password again",x(),t.currentPassword&&t.newPassword.length>=7&&r.value&&l.value==""),L=()=>{E()?s(t).then(m=>{const{isSuccess:n,message:k}=m;n?(u.value=2,a.value=!1):(o.value=k,a.value=!0),i.setsetResetPassword(!1)}):(o.value=o.value?o.value:l.value?"":"Please type your password",a.value=!0)},A=()=>{g("isClickForget",1)};return N(()=>{}),(m,n)=>{const k=V("el-input"),T=V("el-progress"),M=V("el-button");return d(),f("div",ee,[u.value==1?(d(),f("div",se,[te,oe,v(k,{modelValue:t.currentPassword,"onUpdate:modelValue":n[0]||(n[0]=P=>t.currentPassword=P),type:"password",placeholder:"Your Password","show-password":""},null,8,["modelValue"]),v(k,{modelValue:t.newPassword,"onUpdate:modelValue":n[1]||(n[1]=P=>t.newPassword=P),type:"password",placeholder:"Your New Password","show-password":""},null,8,["modelValue"]),v(T,{percentage:S(p),"text-inside":!0,color:c},{default:z(()=>[ae]),_:1},8,["percentage"]),e("div",{class:D(["small-text",a.value&&"text-red"])},b(o.value),3),v(k,{modelValue:r.value,"onUpdate:modelValue":n[2]||(n[2]=P=>r.value=P),type:"password",placeholder:"Input Your New Password again","show-password":"",onKeyup:x},null,8,["modelValue"]),e("div",le,b(l.value),1),e("div",{class:"btn btn-square",onClick:L},"Reset password"),e("div",{class:"forger-btn text-right",onClick:A}," Back to login   > ")])):h("",!0),u.value==2?(d(),f("div",ne,[e("div",re,[v(M,{type:"success",icon:S(F),circle:""},null,8,["icon"]),I("    Password reset ")]),e("div",{class:"forger-btn text-left",onClick:A}," Login now   > ")])):h("",!0)])}}}),de={class:"sign-in"},ie={class:"nav sign-in-nav"},ue={class:"nav-bc"},pe={class:"nav-top"},me=["src"],_e={class:"sign-in-nav-middle"},ve=["src"],fe=C({__name:"index",setup(_){const g=$(),i=w(""),u=w(""),s=w(1),t=async()=>{let a=await B(()=>import("./Chinachem icon-0d084d88.js"),[],import.meta.url);u.value=a.default;let o=await B(()=>import("./Banner-1a2373df.js"),[],import.meta.url);i.value=o.default,g.setResetPassword&&(s.value=3)},r=a=>{s.value=a};return N(()=>{t()}),(a,o)=>(d(),f("div",de,[e("div",ie,[e("div",ue,[e("div",pe,[e("img",{class:"nav-top-img",src:u.value},null,8,me)]),e("div",_e,[s.value==1?(d(),R(Z,{key:0,onForget:r})):h("",!0),s.value==2?(d(),R(X,{key:1,onIsClickForget:r})):h("",!0),s.value==3?(d(),R(ce,{key:2,onIsClickForget:r})):h("",!0)])])]),e("img",{class:"sign-in-pic",src:i.value},null,8,ve)]))}});export{fe as default};
